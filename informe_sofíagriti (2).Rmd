---
title: "Analisis de encuestas elecciones 2023"
author: "Sofía Giménez Gritti"
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# Cargar los paquetes necesarios acá
```


## Introducción
Dado que nos encontramos en un año electoral, con una alta demanda de análisis de encuestas, tomaremos los datos recopilados en este enlace, de distintas encuestadoras para medir la intención de voto de los partidos relevados.


## Exploración de los datos
Cargamos el paquete a utilizar, en este caso, una extracción de los datos de las encuestas, con la construcicón de un csv. Observaremos las primeras filas del mismo, y recorreremos sus columnas
```{r}
url <- "https://github.com/DiploDatosUNAB/informe-grupo_17/raw/main/datos/encuestas_datos.csv"
encuestas <- read.csv2(url)
head(encuestas)
```

```{r}
colnames(encuestas)
```
Como podemos observar en la salida, los partidos analizados son: Todos, Juntos, Libertad_Avanza, Consenso_Federal, FIT, y también analiza Otros, Blanco, e Indecisos. A su vez posee los datos de encuestadora, muestra y fecha.    

```{r}
str(encuestas)
```
Podemos observar que los tipos de datos son correctos para el procesamiento.

```{r}
datos_columnas <- apply(encuestas, 2, function(x) length(na.omit(x)))
print(datos_columnas)
```

En el código anterior podemos ver la cantidad de datos que tiene cada columna, ignorando los nulos. Eso nos da un panorama de qué partidos o indicadores fueron los más relevados, y a su vez, observar la cantitad de datos faltantes sobre encuestadora y muestra. 

```{r}
encuestas$Fecha <- as.Date(encuestas$Fecha, format = "%d/%m/%Y")
encuestas$Todos <- as.numeric(encuestas$Todos)
encuestas$Juntos <- as.numeric(encuestas$Juntos)
encuestas$Libertad_Avanza <- as.numeric(encuestas$Libertad_Avanza)
encuestas$Consenso_Federal <- as.numeric(encuestas$Consenso_Federal)

media_todos <- mean(encuestas$Todos, na.rm = TRUE)
mediana_todos <- median(encuestas$Todos, na.rm = TRUE)
minimo_todos <- min(encuestas$Todos, na.rm = TRUE)
maximo_todos <- max(encuestas$Todos, na.rm = TRUE)
media_juntos <- mean(encuestas$Juntos, na.rm = TRUE)
mediana_juntos <- median(encuestas$Juntos, na.rm = TRUE)
minimo_juntos <- min(encuestas$Juntos, na.rm = TRUE)
maximo_juntos <- max(encuestas$Juntos, na.rm = TRUE)
media_libertad_avanza <- mean(encuestas$Libertad_Avanza, na.rm = TRUE)
mediana_libertad_avanza <- median(encuestas$Libertad_Avanza, na.rm = TRUE)
minimo_libertad_avanza <- min(encuestas$Libertad_Avanza, na.rm = TRUE)
maximo_libertad_avanza <- max(encuestas$Libertad_Avanza, na.rm = TRUE)
media_consenso_federal <- mean(encuestas$Consenso_Federal, na.rm = TRUE)
mediana_consenso_federal <- median(encuestas$Consenso_Federal, na.rm = TRUE)
minimo_consenso_federal <- min(encuestas$Consenso_Federal, na.rm = TRUE)
maximo_consenso_federal <- max(encuestas$Consenso_Federal, na.rm = TRUE)
media_Indecisos <- mean(encuestas$Indecisos, na.rm = TRUE)
mediana_Indecisos <- median(encuestas$Indecisos, na.rm = TRUE)
minimo_Indecisos <- min(encuestas$Indecisos, na.rm = TRUE)
maximo_Indecisos <- max(encuestas$Indecisos, na.rm = TRUE)


resultados <- data.frame(
  Variable = c("Todos", "Juntos", "Libertad_Avanza", "Consenso_Federal", "Indecisos"),
  Media = c(media_todos, media_juntos, media_libertad_avanza, media_consenso_federal, media_Indecisos),
  Mediana = c(mediana_todos, mediana_juntos, mediana_libertad_avanza, mediana_consenso_federal, mediana_Indecisos),
  Minimo = c(minimo_todos, minimo_juntos, minimo_libertad_avanza, minimo_consenso_federal, minimo_Indecisos),
  Maximo = c(maximo_todos, maximo_juntos, maximo_libertad_avanza, maximo_consenso_federal, maximo_Indecisos)
)
print(resultados)



```

Podemos obtener distintas observaciones de los calculos estadísticos construidos: 

- Para poder procesarlos debimos transformar los datos y en las formulas evitar los nulos. En ese sentido, se procesaron generando una tabla para facilitar su lectura.
- Observamos que la media y la mediana de Juntos se eleva por encima de la del Frente de Todos. Como así también el máximo.
- Es una elección mulripartidaria donde los porcentajes máximos, y medios de los partidos son similares. 
- Existe un altmo grado de indecisos, por lo tanto, un alto grado de desconcierto sobre el resultado.

## Hipótesis
- Existe una correlación entre resultados y fecha que genera una alta varianza entre los porcentajes obtenidos por frente.
- Existe una diferencia de encuestadora y muestral, que podría sesgar los resultados estadísticos.
- Existe una paridad entre los 3 partidos mayoritarios que se mantiene en el tiempo por lo que las encuestas no permiten predecir el ballotaje.
- Cómo fluctuan los votos entre los partidos.

